%! Author = alexis
%! Date = 14/06/2022

% Document


\chapter{Introduction}

Social scientists such as historians and sociologists want to make sense of the structure and evolutions of the social relationships between people of a given place and time.
Social Network Analysis (SNA), also called  Historical Social Network Analysis (HSNA) when applied on historical data, is one of the main method---sometimes referred as a paradigm---to achieve this goal, and grew in popularity in recent years as the concept of network became a widespread abstraction in many empirical sciences.
It consists in modeling the social relationships between agents---such as persons and organizations---as a network and studying its local and global structure to make sociological conclusions, based on real observations.
Compared to other more classical sociological approaches, ``it is based on an assumption of the importance of relationships among interacting units.
The social network perspective encompasses theories, models, and applications that are expressed in terms of relational concepts or processes.'' \cite{wassermanSocialNetworkAnalysis1994}.
Social historians rely on textual documents---such as marriage acts, birth certificate, and migration acts---and try to exhaustively extract all mentions of social relationships between persons that they model into a social network, where the nodes usually model persons, and links social relationships.
Using mathematical computations and measures to characterize the network's structure, they are able to make sociological conclusions on relational sociological phenomena based on real observations.
%Usually, agents are represented as nodes in the network, while the links model social relationships, such as friendships, business, or family links.
%To construct such networks, social historians rely on textual documents---such as marriage acts, birth certificate, and migration acts---and try to exhaustively extract all mentions of persons and their social relationships that they then model into a social network.
%Social Historians can afterwards apply social network methods based on mathematical computations and measures to characterize the network's structure to finally make sociological conclusions.

%To construct such networks, social scientists try to exhaustively list all the persons in a restricted time and place with all their social ties and create a network from it.
%The resulting network is considered to be a good model of the social reality, thus allowing to study the structure and dynamics of the social fabric of a period, by studying the network in itself.
They also rely on Social Network Visualization (SNV) to make useful representations of social networks, and are starting to use Visual Analytics (VA) tools that allow them an effective exploration and analysis of this type of data, based on direct interaction and manipulation to find relevant patterns and trends.
%In parallel, a lot of work has been done in network visualization and specifically Social Network Visualization (SNV) to make useful representations of social networks, and visual analytics tools allowing an effective exploration and analysis of this type of data.
However, the process leading to the analyzable network from the historical documents is quite complex and not well documented.
Specifically, historians can model their networks in many ways, and choosing a model loosely can lead to simplifications and distortions in the social reality and the final analyses.
Annotating the documents and cleaning the extracted information is also not trivial can lead to errors and biases.
Most VA tools currently focus on the analysis part only of the process and do not help social historians in their annotation, cleaning and modeling steps.
Moreover, automatic algorithms capabilities such as clustering are often available in SNA tools to help users make sense of the network structure, but interpreting the results from a sociological perspective is complicated especially without guidance, and social scientist have become frustrated by the use of such software \cite{lemercierBackSourcesPracticing2021}.
%The goal of this thesis is therefore to see how VA can be useful to social historians, in their entire process.
%Particularly, we first characterize the HSNA process and from this,
The goals of this thesis is therefore first to characterize the HSNA process of social historians, and from characterizing recurring pitfalls, see how VA can help them in this complex process.
Particularly, we study how VA can help them follow complex analysis answer their sociological questions, while keeping a high level of simplicity, traceability, usability, and with the right level of control.

%Particularly, we try to answer how to model historical documents into networks with the right tradeoff between expressiveness and simplicity, and see how VA interface can help
%
%For this, we first aim to characterize the workflow of historians following a network analysis.
%By eliciting social historians need, we aim at developing VA tools and techniques which would 1) allow answer complex sociological questions while being simple enough to manipulate, 2)

%This thesis's goal is to 1) shed light on the workflow of historians following a network analysis, to provide research directions towards new VA interface to help social scientists in their overall work, 2) provide VA interfaces which focus on complex interactions to help social scientists answer their complex questions while 3) focusing on the usability of those systems, especially concerning the traceability and interpretations of the results.


%This thesis' aim is to tackle those two problems, by first defining a network model which models well most of the historical sources we encountered, and proposing visual representations to explore them.
%Then, we propose visual analytics tools and methods specifically designed for social scientists to explore their data, with the aim of proposing the right balance between algorithmic power, interpretation of the analysis and decision-making of the social scientist.


%most widely used SNA tools such do not provide much guidance to the social scientists for their analysis, which often require good computer science and statistics skills.
%However, sociology and history data can be quite complex, and simple networks model are often a simplification of the real world social phenomena.
%Several network models ranging from simple to complex ones have been introduced, with associated visual representations and tools.
%Unfortunately there is no consensus on which model is best, specifically for networks constructed from historical sources, and the majority of research is still done using very simple models, with classical node-link representations.
%Furthermore, most widely used SNA tools such as Gephi or Pajek do not provide much guidance to the social scientists for their analysis, which often require good computer science and statistics skills.
%This thesis' aim is to tackle those two problems, by first defining a network model which models well most of the historical sources we encountered, and proposing visual representations to explore them.
%Then, we propose visual analytics tools and methods specifically designed for social scientists to explore their data, with the aim of proposing the right balance between algorithmic power, interpretation of the analysis and decision-making of the social scientist.
%\todo{def histoire}


\section{Social History and Historical Social Network Analysis}

HSNA is now a widely used method among historians to study relational phenomena like kinship, business, and institutions of the past, using network concepts and methods.
It appeared as an effective way to study their sources after a long process of methodological shifts and discussions \cite{cristofoliAuxSourcesGrands2008}.
%It is though a relatively new approach in History, where methodology changed through the years.
%History is the science of retrieving and characterizing facts about the past, in all their complexity.
We can trace it back to the birth of Social History with the ``Annales School'' in the 1930s, where Historians gained interest in socio-economic questions, and started to rely heavily on the exhaustive extraction and analysis of historical documents coming from archives \cite{blochApologiePourHistoire1949}.
Beforehand, History was mainly political and event-centered, as the majority of works consisted in narrating and characterizing specific events---such as wars and diplomatic alliances---while eliciting their causes and consequences, and describing the lives of historic figures, such as sovereigns.
Social History shifted the focus by trying to link together sociological, economical and political issues and by placing individuals in the center of these questions \cite{prost2014}.
Later on in the 1960s, with the development of Computer Science, historians started to use quantitative methods to analyze data extracted from historical documents and make conclusions grounded in statistical results, in various subjects like demographics \cite{henryRegistresParoissiauxHistoire1956} or economics \cite{goldinCliometricsNobel1995}.
Around the same time, the use and study of networks started to become popular in various disciplines to study real world relational phenomena based on mathematical computations and measures.
A network is an abstraction based on graph theory concepts used to model phenomena based on relationships (called links) between entities (called nodes).

%More recently, with the development of network science and computer science, sociologists started to study social phenomena and relationships from a network perspective.
%A network is an abstraction based on graph theory concepts used to model phenomena based on relationships between entities, made of nodes and links.
Sociologists started to use this concept to model social ties between agents of interest---very often persons---and study social phenomena through the description of the network structure, using the SNA methodology \cite{wassermanSocialNetworkAnalysis1994}.
It allowed them to leverage quantitative measures from the network to make sociological conclusions based on real observations, instead on relying on traditional social categories such as the age, job, and gender \cite{freemanDevelopmentSocialNetwork2004}.
It has been applied to study various subjects like families, political institutions, schools, friendships, work environments, and sports clubs, with promising results.
This method grew in popularity in recent years, and has started to be used and formalized by historians in the 1980s, under the term of Historical Network Research (HNR) or Historical Social Network Analysis (HSNA) \cite{wetherellHistoricalSocialNetwork1998}.
It allowed historians to study relational phenomena of the past---such as families and institution---through real social relationships directly extracted from historical documents and modeled into a network.
These documents can be anything mentioning social relationships between actors of interests, such as marriage acts, birth certificates, census, migration acts and working contracts.
After selecting a corpus of documents (often extracted from archives), they manually annotate each document to extract the mentions of persons along their relationships to model those with a network.
This is a long and tedious process which can result in small to large networks that they analyze using mathematical measures to make conclusions on historical phenomena.

Typically, social historians using quantitative and network methods work in a descriptive framework and leverage values and measures to make conclusions.
%Several subjects are also not well suited for such methods, like microhistoria, narratives, ethnography, or biography.
Lemercier and Zalc say that ``Although history is not an exact science, counting, comparing, classifying, and modeling are nevertheless useful methods for measuring our degree of doubt or certainty, making our hypotheses explicit, and evaluating the influence of a phenomenon.'' \cite{lemercierQuantitativeMethodsHumanities2019}
Social historians therefore have hypotheses about their subject of study, that they can back up or refute with the help of quantitative and network results, similarly to the competing hypotheses workflow of Intelligence Analysis \cite{dhamiAnalysisCompetingHypotheses2019}.
By pointing to evidence supporting or refuting hypotheses, they can give insight of the level of plausibility of different claims.
To verify their findings, historians rely on Social Network Visualization (SNV) to represent visually their data.
It lets them find patterns to confirm or deny hypotheses and communicate their finding.


%History is by definition about generating multiple hypotheses and elaging them along time as evidences stack with time towards one or another hypothesis.

%Historians usually rely on Social Network Visualization (SNV) to represent visually their data and confirm their hypotheses.
%It allows them to test their hypotheses visually, and communicate their findings.



%Historians usually rely on Social Network Visualization (SNV) to represent visually their data.
%It allows them to test their hypotheses visually, and communicate their findings.

%Similarly to sociologists, historians can build a network modeling the social relationships between actors of the past, restricted in a specific period and area they are studying.
%If sociologists can use surveys, experiments, or nowadays, the internet to extract social relationships and construct a social network, historians are restricted by the textual sources they can find.
%Their main source of work to extract social relationships in a rigorous way are historical documents which correspond to traces of specific events linking people together.
%These documents can be marriage acts, birth certificates, census for family and close personal relationships, or migration acts and working contracts for other types of social ties.
%After having a selected corpus, they manually annotate each document to extract the persons mentioned in it along the relationships between them, to finally construct a network from this data.
%This is a long and tedious process which can result in small to large networks that they analyze using mathematical measures to make conclusions on historical phenomena.
%want to analyze to make conclusions on the social dynamics of a population of interest.
%For this complicated task, historians follow what is called a Social Network Analysis (SNA), or more precisely a HIstorical Social Network Analysis (HSNA) which consists in characterizing the structure of the network with measures such as the centrality or the density of some parts of the network to then make conclusions on how people were interacting in the period of interest.


%To help their analysis, and generate new hypotheses, they usually rely on Visual Analytics tools to represent and explore their network. The elaboration of visual tools to represent and explore social networks is called Social Network Visualization.
%Sociologists and historians started to use static representation of networks, using node-links diagrams to have a visual understanding of their data, and to report their findings in publications. With the development of visualization, more complex representations and visual analytics tools emerged, which allow more complex representation and exploration capabilities, with the help of interactions and navigations features. Social networks visual systems such as Gephi or Pajek are now widely used in HNR and SNA by social scientists. Representing their network data and being able to interact with it allows them to rapidly have an overview of it, confirm hypotheses they have and arrange new ones by exploring the network.
%
%However, most used social networks visual analysis tools still have several issues that we tackle in this thesis: the visual representations still widely used are pretty simple, and are often not a good fit to represent and explore complex multivariate historical dataset, and current visual analytics tools often do not provide enough power and guidance to the end users to manipulate their data, which can result in frustration.


\section{Visualization and Visual Analytics}

Visualization is the process of displaying data visually to leverage the human visual system and enhance cognition to gain insight on the data \cite{cardReadingsInformationVisualization1999}.
Using visual abstractions (such as size, color, and position) to display real data allows to rapidly detect potential hidden structures and patterns.
As data keeps growing in size with time, visualization is a powerful tool to gain insight on the underlying structure of various datasets.
Visualization is mainly used for confirmatory and communication purposed, particularly in social sciences.
Analysts generally have hypotheses that they want to test: they collect data, model it, compute measures, and plot the data visually to verify that it matches the results.
They typically use similar plots to communicate findings, for example in scientific reports and presentations.
Social scientists following a network analysis typically use node-link diagrams, which allow them to represent a network with circles and lines to respectively represent nodes and links.
It let them confirm or deny some of their hypotheses by observing the network structure, and communicate on their results.

However, visualization can also be used for exploration, which can help to understand the underlying structure of data and generate new hypotheses.
Tukey defined this process as Exploratory Data Analysis (EDA) in the 1960s \cite{tukeyExploratoryDataAnalysis1977}, as a procedure to gain insight on the structure of the data by identifying outliers, trends, and patterns with the usage of visualization and statistical measures.
Interaction in visualization help this process by letting users navigating more easily on multivariate datasets with the help of direct manipulation on the data.
The detection of patterns and trends can also be facilitated with automatic methods coming from data mining and machine learning fields, directly implemented in the visual analysis loop.
This coupling of visual exploration and automatic data mining algorithms have been coined as Visual Analytics (VA), and is defined as the process of using interactive visualizations, transformations, models of the data in a analysis workflow to create knowledge \cite{keimVisualAnalyticsDefinition2008}.
%Such interfaces aim at producing knowledge on the data, based on transformation of the data and interactions by the user.

EDA and VA are currently not widely used in HSNA, as social historians always have prior hypotheses before getting their data in shape.
However, datasets that historians produce are getting bigger and bigger and VA tools are efficient to rapidly generate insights and new hypotheses.

%For example, clustering algorithms are often implemented in classical software for SNA such as Gephi and Pajek, allowing social scientists to explore potential interesting grouping of individuals in the network.

\section{Historical Social Networks Visual Analytics}\label{sec:historical-social-networks-visual-analytics}

Currently, social historians spend a lot of time in their data acquisition, processing, and cleaning steps which lead them to the construction of a network.
They typically visualize and analyze their network at the very end of this process only.
This can be explained in part because most VA tools focus only on this final analysis and not on the preprocessing steps.
Social historians collect, annotate and clean their data using custom scripts and ad-hoc methods before doing any analysis.
However, research showed that all the steps preceding the analysis can introduce errors and misconceptions, especially that social scientists are often not trained in Computer Science and Data Science \cite{lemercier12FormalNetwork2015a, lkadi2022}.
Social scientists usually visualize their network using SNA tools like Gephi \cite{Gephi}, Pajek \cite{pajek}, and NodeXl \cite{noauthor_nodexl_nodate} which encompass basic interactions, node-link visualization, SNA measure computations and clustering algorithms.
Once they visualize their data, they typically notice errors and inconsistencies in the data, such as duplication of the same entities, merging of different entities, or geolocation errors.
They therefore have to do back and forth between the visualization software and the cleaning process which can be tedious, especially that it can be complicated to trace back the entities of the data model back to the original documents for correction.
VA tools which encompass the whole process of social historians should therefore be beneficial for the flow of their work and could help detect and correct errors or analysis plans way before the final analysis.

Moreover, social scientists have been frustrated by current data mining tools as the results they get from tasks such as clustering and classification come from black-box algorithms and may mismatch their vision of the data.
They thus often feel they do not have control over their analysis \cite{lepetitHistoireQuantitativeDeux1989}.
One of the reason is that automatic results can be hard to interpret, especially in a discipline such as History or Sociology, where users often have little knowledge on computer science.



\section{Contribution and research statement}\label{sec:contribution-and-research-statement}


As seen in \autoref{sec:historical-social-networks-visual-analytics}, most VA tools for HSNA are focused on the final analysis of a polished network.
Instead of only providing analysis capabilities, We think VA could help social historians in their entire workflow, from data acquisition to analysis, instead of focusing only on the final steps.
Concerning the analysis step, VA tools should satisfy constraints of social historians, i.e.\ being able to answer complex questions with effective visual representations, letting the user in control of the analysis loop and algorithmic results, and satisfying traceability to the original sources.
%without losing the traceability to their original historical sources and the temporality of the phenomena they study.
The goal of this thesis is to give answers to the high-level question ``How can VA help social historians in their entire HSNA process ?''.
To answer this question, we first characterize the HSNA process from start to finish, with the goal of identifying pitfalls and problems that regularly arise and characterizing social historians needs.
From this, we give answers and directions to three issues that frequently arise in social scientists workflows:

\newcommand{\qone}{\textbf{Q1}: How to model historical documents into an analyzable network with the right balance between expressiveness and simplicity?}
\newcommand{\qtwo}{\textbf{Q2}: What representations and interactions are necessary for social historians to answer complex historical questions while being easy enough to navigate?}
\newcommand{\qthree}{\textbf{Q3}: How to design VA tools and interactions that leverage algorithmic power but let historians in control of their analysis and without introducing bias?}
\begin{description}
%    \item \textbf{Q1}: How should historians collect, annotate and model their historical documents, allowing them to answer their complex questions with HSNA methods?
    \item \qone
    \item \qtwo
    \item \qthree
\end{description}

%\begin{description}
%%    \item \textbf{Q1}: How should historians collect, annotate and model their historical documents, allowing them to answer their complex questions with HSNA methods?
%    \item \textbf{Q1}: How should historians model their documents into an analyzable network with the right balance between expressiveness and simplicity?
%    \item \textbf{Q2}: What representations and interactions are necessary for social historians to answer complex historical questions while being easy enough to navigate?
%    \item \textbf{Q3}: How to design VA tools and interactions that leverage algorithmic power but let historians in control of their analysis and without introducing bias?
%\end{description}

In \autoref{ch:hsna-process-and-network-modeling}, we start by describing the HSNA workflow and identify recurring pitfalls we encountered in our collaborations with historians, and give answer to \qone.
In the following \autoref{ch:combinet}, we give answers to \qtwo by providing a VA interface to explore \modelplural, with queries and comparison interactions with the aim of letting historians answer their questions.
Finally, in \autoref{ch:pk-clustering}, we propose PK-Clustering, a clustering technique for social scientists based on their prior knowledge, algorithmic consensus and traceability of results, as a concrete example of technique answering the needs of \qthree.








%This thesis is centered around two research questions: first, the proposition of an efficient network model to represent historical sources and follow HSNA, with associated visualizations to show and explore this type of network. Secondly, elaborating visual analytics tools specifically designed for this type of data, with the right balance between algorithmic power, simplicity and interpretability for the social scientists, who need to be in control of the analysis. We first [tell plan]


%Observations:
%\begin{description}
%    \item \textbf{O1}: Social scientists have trouble processing and modeling their historical documents into a clean, consistent and analyzable network. The process is not easy and straightforward and more resources should give insight on how to do it correclty.
%    \item \textbf{O2}: SNA have been criticized for giving trivial results and visual analysis tools used only for producing good-looking pictures.
%    \item \textbf{O3}: Historians have been frustrated with automatic tools and algorirthms to analyze their data, as they have a strong knowledge of their subject and not everything is modeled inside the network, and current tools do not allow them to express this knowledge.
%\end{description}
%
%Research Questions
%\begin{description}
%    \item \textbf{Q1}: How should historians collect, annotate and model their historical documents, allowing them to answer their complex questions with HSNA methods?
%    \item \textbf{Q2}: What representations and interactions are necessary for social historians to answer question, potentially complex?
%    \item \textbf{Q3}: How to design tools and interactions that let historians in control of the analysis loop, without introducing bias?
%\end{description}





%\section{Network models and representations}
%
%Person-to-person simple node-link diagram is still the most widely used network representation is SNA, and most SVA tools only include this type of representation.
%This visualization shows the persons as nodes, and social ties as links and displays them in a way to minimize the number of crossings to increase the readability.
%However, historians very often have access to richer and more diverse information through the historical documents they study.
%The documents can refer to coexistent complex social relationships which link several people together with different roles.
%These cannot be modeled with simple person-to-person links, without losing some information on the social implication of these relationships.
%Moreover, documents often give access to other information related to the event they refer to, such as the time, the location or the roles of the different persons mentioned.
%For example, marriage acts often indicate the date and the place of the event, and mention persons under different roles : the spouses, the witness, the parents, the priest etc.
%Additional information related to persons can also be mentioned, such as their age, origin or profession.
%It is clear that simply using a person network model won’t encapsulate the whole complexity of the data and will simplify the social relationship. This is a common issue in SNA and HSNA [REF Lemercier] and more complex network models are needed. However, complexity
%along with visual analysis tools to explore them.
%
%\section{Usability Issues}
%
%One of the aims of Visual Analytics is to provide automatic or semi-automatic processing and analysis tools with data mining and machine learning algorithms, to help end users make sense of their data and find interesting patterns and relationships.
%However, current social network visual analytics systems are still very algorithm oriented, and do not provide many controls to historians and sociologists who usually feel off the analysis loop when the system provides automatic and algorithmic results. One of the reason is because automatic results can be hard to interpret, especially in a discipline such as History or Sociology, where users often have little knowledge on computer science.
%One example is the automatic detection of community structures using network clustering algorithms. Social networks are known to have a community-like structure, meaning that the probability of a link existing between two random person nodes is not uniform, and that people tend to agglomerate in groups, who have more social ties between them than with other persons in the network.
%There are a lot of existing clustering algorithms which aim to automatically find these groups, by optimizing measures such as the modularity or using propagation models.
%However, clustering is an ill-defined problem, and several good partitions may coexist for the same network, and which can have several interpretations in a SNA. Most SNA/SVA tools such as Gephi or NodeXl provide several well-known clustering algorithms such as Girvan-Newman, Louvain or Clauset-Newman-Moore, but do not provide much guidance on how to use them and interpret their results.
%Social Scientists often try several ones in the list of algorithms proposed until finding a convenient result, in the eyes of the analysis they want to follow.
%This leads to a non-satisfactory analysis process, as historians are out of the loop and have few decisions on the results. This usability issue is the same for automatic processes with no universal ground truth.
%
%\section{Contribution and research statement}
%
%This thesis is centered around two research questions: first, the proposition of an efficient network model to represent historical sources and follow HSNA, with associated visualizations to show and explore this type of network. Secondly, elaborating visual analytics tools specifically designed for this type of data, with the right balance between algorithmic power, simplicity and interpretability for the social scientists, who need to be in control of the analysis. We first [tell plan]
%
%
%Observations:
%\begin{description}
%    \item \textbf{O1}: Social scientists have trouble processing and modeling their historical documents into a clean, consistent and analyzable network. The process is not easy and straightforward and more resources should give insight on how to do it correclty.
%    \item \textbf{O2}: SNA have been criticized for giving trivial results and visual analysis tools used only for producing good-looking pictures.
%    \item \textbf{O3}: Historians have been frustrated with automatic tools and algorirthms to analyze their data, as they have a strong knowledge of their subject and not everything is modeled inside the network, and current tools do not allow them to express this knowledge.
%\end{description}
%
%Research Questions
%\begin{description}
%    \item \textbf{Q1}: How should historians collect, annotate and model their historical documents, allowing them to answer their complex questions with HSNA methods?
%    \item \textbf{Q2}: What representations and interactions are necessary for social historians to answer question, potentially complex?
%    \item \textbf{Q3}: How to design tools and interactions that let historians in control of the analysis loop, without introducing bias?
%\end{description}